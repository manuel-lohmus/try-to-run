"use strict";function try_to_run(n,t=options.retrying){var r,u,i;if(!options.enabled||wt.workerData==="try-to-run")return null;n||(n=process.argv[1]);r={workerData:"try-to-run"};u=fs.existsSync(path.resolve(n));u||(r.eval=!0);i=new wt.Worker(n,r);i.on("error",function(n){console.error("\r\n",n)});i.on("exit",function(){counter<t||0>t?(counter++,clearTimeout(timeout),console.warn("\r\n"+counter+". try to run '"+n+"'"),try_to_run(n,t),timeout=setTimeout(function(){console.log("\r\nResetting the retry counter.");counter=0},3e4)):clearTimeout(timeout)});i.on("message",function(n){n==="kill"&&(i.removeAllListeners("exit"),i.terminate())});return i}var options=require("config-sets").init({try_to_run:{retrying:10,enabled:!0}}).try_to_run,fs=require("fs"),path=require("path"),wt=require("worker_threads"),timeout=null,counter=0;module.exports=function(){function n(n,t){return try_to_run(n,t)}return n.try_to_run=try_to_run,n}();