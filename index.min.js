"use strict";function try_to_run(n,t){var r=fs.existsSync(path.resolve(n)),i=r?new wt.Worker(n):new wt.Worker(n,{eval:!0});i.on("error",function(n){console.error("\r\n",n)});i.on("exit",function(){counter<t||0>t?(counter++,clearTimeout(timeout),console.warn("\r\n"+counter+". try to run '"+path.parse(n).base+"'"),try_to_run(n,t),timeout=setTimeout(function(){console.log("\r\nResetting the retry counter.");counter=0},3e4)):clearTimeout(timeout)})}var fs=require("fs"),path=require("path"),wt=require("worker_threads"),timeout=null,counter=0;module.exports=function(n,t=10){return n||(n=process.argv[1]),wt.isMainThread&&try_to_run(n,t),wt.isMainThread};